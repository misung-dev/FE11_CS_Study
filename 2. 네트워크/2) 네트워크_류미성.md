# 🛜 네트워크

## 2.1 네트워크의 기초

- `네트워크`? 노드와 링크가 서로 연결되어 있으며, 리소스를 공유하는 집합

  - 노드: 서버, 라우터, 스위치 등 네트워크 장치
  - 링크: 유선 또는 무선

    <img height=200 src='https://velog.velcdn.com/images/dev2022/post/dd84ea7c-5341-4046-afbd-e807a7aca1e5/image.png'>

### 2.1.1 처리량과 지연 시간

- `처리량`? 링크 내에서 성공적으로 전달된 데이터의 양

  - 단위? bps (초당 전송 또는 수신되는 비트 수)

  - 대역폭? 주어진 시간 동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수

  <img height=200 src='https://velog.velcdn.com/images/slr-09/post/05bb511f-03ad-411c-882b-1f6bdb315c44/image.png'>

- `지연시간`? 요청이 처리되는 시간. 어떤 메시지가 두 장치를 사이를 왑고하는 데 걸린 시간

  - 영향을 주는 요소? 매체 타입(무선, 유선), 패킷 크기, 라우터의 패킷 처리 시간

  <img height=200 src='https://user-images.githubusercontent.com/50647845/174925223-3b4aceeb-8851-426c-8803-88333800578b.png'>

### 2.1.2 네트워크 토폴로지와 병목 현상

- `네트워크 토폴로지`? 노드와 링크가 어떻게 배치되어 있는지에 대한 방식이자 연결 형태
  - 병목현상을 찾을 때 중요한 기준이 됨
- 종류

  - 트리 토폴로지
  - 버스 토폴로지
  - 스타 토폴로지
  - 링형 토폴로지
  - 메시 토폴로지

  <img height=200 src='https://www.ibm.com/content/dam/connectedassets-adobe-cms/worldwide-content/creative-assets/s-migr/ul/g/a5/2d/network-topology.component.complex-narrative-xl.ts=1729787562126.png/content/adobe-cms/kr/ko/think/topics/network-topology/jcr:content/root/table_of_contents/body/content_section_styled/content-section-body/complex_narrative_1220059888/items/content_group/image'>

- `병목현상`? 전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한을 받는 현상

### 2.1.3 네트워크 분류

- 종류 (규모 기준)

  - `LAN`: 근거리 통신망 (예: 건물, 캠퍼스 같은 좁은 공간)
    - 전송속도가 빠르고 혼잡하지 않음
  - `MAN`: 대도시 지역 네트워크 (예: 도시)
    - 전송 속도는 평균이며, LAN보다는 혼잡
  - `WAN`: 광역 네트워크 (예: 국가, 대륙)
    - 전송속도 낮으며, MAN보다 혼잡

  <img height=200 src='https://mblogthumb-phinf.pstatic.net/MjAxOTA4MjhfNzEg/MDAxNTY2OTU5NTEwMDUy.HiFtAmDktpnTqNS_HYfafMJwxK2DsCFDFsS5MYsWP-Yg.NTMVWNL4Slq-RhkYlpW0-p-hphz1-rO_ITE4faJl0OIg.PNG.joohee5079/vzv.png?type=w800'>

### 2.1.4 네트워크 성능 분석 명령어

- 병목 현상의 주된 원인

  - 네트워크 대역폭
  - 네트워크 토폴로지
  - 서버 CPU, 메모리 사용량
  - 비효율적인 네트워크 구성

  → 네트워크 관련 테스트와 무관 테스트를 하고, 네트워크로부터 발생한 문제임이라면 네트워크 성능 분석하기~

- 명령어

  - `ping`?

    - Packet INternet Grouper
    - 네트워크 상태를 확인하려는 대상 노드를 향해 일정 크기의 패킷을 전송하는 명령어
    - 해당 노드의 패킷 수신 상태와 도달하기까지 시간 등을 알 수 있으며, 해당 노드까지 네트워크가 잘 연결되어 있는지 확인 가능
    - ping + IP주소/도메인주소

      <img height=250 src='https://thebook.io/img/080326/077_1.jpg'>

  - `netstat`?

    - 접속되어 있는 서비스들의 네트워크 상태를 표시하는데 사용
    - 네트워크 접속, 라우팅 테이블, 네트워크 프로토콜 등 리스트 보여줌
    - 주로 서비스의 포트가 열려 있는지 확인할 때 사용
      <img height=200 src='https://thebook.io/img/080326/077_2.jpg'>

  - `nslookup`?

    - DNS에 관련된 내용을 확인하기 위해 쓰는 명령어

      <img height=200 src='https://thebook.io/img/080326/078_1.jpg'>

  - `tracert`(윈도우) / `traceroute`(리눅스)

    - 목적지 노드까지 네트워크 경로를 확할 때 사용하는 명령어
    - 목적지 노드까지 구간들 중 어느 구간에서 응답 시간이 느려지는지 등 확인

      <img height=200 src='https://thebook.io/img/080326/078_2.jpg'>

### 2.1.5 네트워크 프로토콜 표준화

- IEEE 또는 IETF라는 표준화 단체가 프로토콜을 정함
- 다른 장치들끼리 데이터를 주고받기 위해 설정된 공통된 인터페이스

## 2.2 TCP/IP 4계층 모델

### 2.2.1 계층 구조

<img height=250 src='https://velog.velcdn.com/images/mactto3487/post/158e8fb2-58a6-415c-9957-22b92584193e/image.png'>

### 2.2.2 PDU

- `PDU`?

  - Protocol Data Link
  - 네트워크의 어떠한 계층에서 계층으로 데이터가 전달될 때 한 덩어리의 단위
  - 구성
    - 헤더: 제어 관련 정보들
    - 페이로드: 데이터

  <img height=200 src='https://lh3.googleusercontent.com/proxy/a5Q0UKs7xRfTMqJAuMIgGltmiWKyBmnSlqMtCLHHgZB-z6fBd3MCC7Gx2riy-tuN80AAK2Nf-i9Svwh6Cz4zPexG'>

## 2.3 네트워크 기기

### 2.3.1 네트워크 기기의 처리 범위

- 애플리케이션 계층: L7 스위치
- 인터넷 계층: 라우터, L3 스위치
- 데이터 링크 계층: L2 스위치, 브리지
- 물리 계층: NIC, 리피터, AP

### 2.3.2 애플리케이션 계층을 처리하는 기기

- `스위치`?

  - 여러 장비를 연결하고 데이터 통신을 중재하며 목적지가 연결된 포트로만 전기신호를 보내 데이터를 전송하는 통신 네트워크 장비

- `L7 스위치`?
  - 로드 밸런서, 서버의 부하를 분산하는 기기
  - 로드 밸런서는 2대 이상의 서버를 기반으로 가상 IP를 제공하고 이를 기반으로 안정적인 서비스를 제공한다.
    <img height=200 src='https://thebook.io/img/080326/098.jpg'>

### 2.3.3 인터넷 계층을 처리하는 기기

- `라우터`?

  - 여러 개의 네트워크를 연결, 분할, 구분시켜주는 역할
  - 다른 네트워크에 존재하는 장치끼리 서로 데이터를 주고받을 때 패킷 소모를 최소화하고 경로를 최적화하여 최소 경로로 패킷을 포워딩하는 라우팅을 하는 장비

    <img height=200 src='https://img.danawa.com/prod_img/500000/107/527/img/6527107_3.jpg?shrink=360:360&_v=20211206091525'>

- `L3 스위치`?

  - 라우터와 같은 개념
  - 라우터는 소프트웨어 기반의 라우팅과 하드웨어 기반의 라우팅을 하는 것으로 나눠지고 하드웨어 기반의 라우팅을 담당하는 장치를 L3 스위치

    <img height=200 src='https://networkwoker.net/wp-content/uploads/2024/09/image-7.png'>

### 2.3.4 데이터 링크 계층을 처리하는 기기

- `L2 스위치`?

  - 장치들의 MAC 주소를 MAC 주소 테이블을 통해 관리하며, 연결된 장치로부터 패킷이 왔을 때 패킷 전송을 담당

    <img height=150 src='https://thebook.io/img/080326/102_1.jpg'>

- `브리지`?

  - 두 개의 근거리 통신망(LAN)을 상호 접속할 수 있도록 하는 통신망 연결 장치
  - 포트와 포트 사이의 다리 역할을 하며 장치에서 받아온 MAC주소를 MAC 주소 테이블로 관리

    <img height=150 src='https://thebook.io/img/080326/102_2.jpg'>

### 2.3.5 물리 계층을 처리하는 기기

- `NIC`?

  - LAN 카드라고 하는 네트워크 인터페이스 카드(NIC)는 2대 이상의 컴퓨터 네트워크를 구성하는 데 사용
  - 네트워크와 빠른 속도로 데이터를 송수신할 수 있도록 컴퓨터 내에 설치하는 확장 카드

    <img height=150 src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjq-JmxcfuUMCvYw3WnrIsz9ncoSw1TXfczQ&s'>

- `리피터`?

  - 들어오는 약해진 신호 정도를 증폭하여 다른 쪽으로 전달하는 장치

    <img height=150 src='https://thebook.io/img/080326/104_1.jpg'>

- `AP`?

  - 패킷 복사
  - AP에서 유선 LAN을 연결한 후 다른 장치에서 무선 LAN 기술(와이파이 등)을 사용하여 무선 네트워크 연결을 할 수 있음.

    <img height=150 src='https://thebook.io/img/080326/104_2.jpg'>
